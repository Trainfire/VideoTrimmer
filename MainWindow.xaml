<Window x:Class="VideoTrimmer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VideoTrimmer"
        mc:Ignorable="d"
        Title="Video Trimmer" Height="600" Width="430" ResizeMode="NoResize" Background="Black" DragEnter="Window_DragEnter" DragLeave="Window_DragLeave" Drop="Window_DragDrop" AllowDrop="True">
    <Grid Margin="30,20,30,20">

        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="300"/>
            <RowDefinition Height="30"/>
            <RowDefinition />
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <!-- file info row -->
        <StackPanel Grid.ColumnSpan="2" Grid.Column="0" Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
            <Button Content="Select video" Width="90" Click="ButtonFileOpen_Click" Margin="0,0,0,16" Background="White" FontFamily="/VideoTrimmer;component/#Montserrat Medium" Height="22" BorderBrush="{x:Null}"/>
            <Label Name="fileNameLabel" Content="No video selected" Margin="10,0,0,10" Foreground="White" FontFamily="/VideoTrimmer;component/#Montserrat Medium" HorizontalAlignment="Left" ScrollViewer.CanContentScroll="True" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Disabled" AutomationProperties.IsOffscreenBehavior="Onscreen" ToolTip="No video selected"/>
        </StackPanel>

        <!-- video player -->
        <StackPanel Grid.ColumnSpan="2" Grid.Column="0" Grid.Row="1" Orientation="Vertical">
            <MediaElement Name="MediaPlayer" Height="275" VerticalAlignment="Center" Width="360" Grid.ColumnSpan="2" LoadedBehavior="Manual" ScrubbingEnabled="True" MediaOpened="MediaPlayerOnMediaOpened" />
            <StackPanel Orientation="Horizontal">
                <Button Name="PlayPauseButton" Content="▶" VerticalAlignment="Top" Width="22" Height="20" Click="OnPlayPauseButtonClicked" IsEnabled="False" />
                <Slider Name="TimelineSlider" HorizontalAlignment="Center" Margin="10,0,0,0" VerticalAlignment="Top" Height="22" Width="320" ScrollViewer.VerticalScrollBarVisibility="Disabled"  IsEnabled="False" />
            </StackPanel>
        </StackPanel>

        <!-- timecode inputs row -->
        <StackPanel Grid.Column="0" Grid.Row="2" Orientation="Horizontal" VerticalAlignment="Top">
            <Label Content="Start:" VerticalAlignment="Center" Foreground="White" FontFamily="/VideoTrimmer;component/#Montserrat Medium" Margin="-5,0,0,0"/>
            <TextBox x:Name="timecodeStart" IsEnabled="False" Text="00:00:00" Width="92" LostFocus="Timecode_LostFocus" TextAlignment="Center" MaxLength="8" MaxLines="1" FontSize="14" FontFamily="/VideoTrimmer;component/#Montserrat Medium" Margin="10,0,0,0" HorizontalAlignment="Left" BorderBrush="{x:Null}" VerticalAlignment="Center" Height="20" />
        </StackPanel>
        <StackPanel Grid.Column="1" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top">
            <Label Content="End:" VerticalAlignment="Center" Foreground="White" FontFamily="/VideoTrimmer;component/#Montserrat Medium"/>
            <TextBox Name="timecodeEnd" IsEnabled="False" Height="20" Text="00:00:00" Width="92"  LostFocus="Timecode_LostFocus" TextAlignment="Center" MaxLength="8" MaxLines="1" FontSize="14" FontFamily="/VideoTrimmer;component/#Montserrat Medium" HorizontalAlignment="Left" BorderBrush="{x:Null}" Margin="10,0,-1,0" VerticalAlignment="Center"/>
        </StackPanel>
        <Separator Grid.ColumnSpan="2" Height="2" Margin="0,6,0,0" Grid.Row="3" VerticalAlignment="Top"/>
        
        <!-- options -->
        <StackPanel Grid.Column="0" Grid.ColumnSpan="1" Grid.Row="3" VerticalAlignment="Center" Margin="0,5,0,0">
            <StackPanel.Resources>
                <Style TargetType="{x:Type CheckBox}">
                    <Setter Property="Foreground" Value="White"/>
                    <Style.Triggers>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="#FFADADAD"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </StackPanel.Resources>
            <CheckBox Name="removeAudio" ToolTipService.ShowOnDisabled="True" Content="Remove audio" FontFamily="/VideoTrimmer;component/#Montserrat Medium" IsEnabled="False" VerticalContentAlignment="Center" Margin="0,5" ToolTip="The output video will not contain any audio streams."/>
            <CheckBox Name="recompressFile" ToolTipService.ShowOnDisabled="True" Content="Recompress file" FontFamily="/VideoTrimmer;component/#Montserrat Medium" IsEnabled="False" VerticalContentAlignment="Center" Margin="0,5" ToolTip="Trimming will take significantly more time, but will offer greater precision while trimming." Checked="RecompressFile_ValueChanged" Unchecked="RecompressFile_ValueChanged" />
        </StackPanel>
        <StackPanel Grid.Column="1" Grid.ColumnSpan="1" Grid.Row="3" VerticalAlignment="Center" Orientation="Horizontal" Margin="0,5,0,0">
            <StackPanel.Resources>
                <Style TargetType="{x:Type Label}">
                    <Setter Property="Foreground" Value="White"/>
                    <Style.Triggers>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="#FFADADAD"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </StackPanel.Resources>
            <Label Name="DesiredFileSizeLabel" Content="Max file size (in MB):" ToolTip="Will keep the output file below the specified MB limit. Requires 'Recompress file' to be set to true." ToolTipService.ShowOnDisabled="True" IsEnabled="False" VerticalAlignment="Center" FontFamily="/VideoTrimmer;component/#Montserrat Medium"/>
            <TextBox Name="DesiredFileSize" ToolTip="Will keep the output file below the specified MB limit. Requires 'Recompress file' to be set to true." ToolTipService.ShowOnDisabled="True" IsEnabled="False" Height="20" Text="0" Width="45" LostFocus="DesiredFileSize_LostFocus"  TextAlignment="Right" MaxLength="4" MaxLines="1" FontSize="14" FontFamily="/VideoTrimmer;component/#Montserrat Medium" HorizontalAlignment="Right" BorderBrush="{x:Null}" Margin="0,0,0,0" VerticalAlignment="Center"/>
        </StackPanel>

        <!-- trim video button + about -->
        <Button Name="trimVideoButton" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="4" Content="TRIM VIDEO" VerticalAlignment="Top" Click="ButtonTrimVideo_Click" Background="White" FontFamily="/VideoTrimmer;component/#Montserrat" FontWeight="Bold" Height="25" BorderBrush="{x:Null}" IsEnabled="False" />
        <Label Name="aboutFooter" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="4" Content="About" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="281" Foreground="#26FFFFFF" FontSize="10" Background="{x:Null}" BorderBrush="{x:Null}" FontFamily="/VideoTrimmer;component/#Montserrat Medium" HorizontalContentAlignment="Right"/>
  
        <!-- The currently unused "About" button -->
        <!--<Button Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="2" Content="About" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="42" Foreground="#19FFFFFF" FontSize="10" Cursor="Hand" Background="{x:Null}" BorderBrush="{x:Null}" Click="ButtonShowAbout_Click" FontFamily="/VideoTrimmer;component/#Montserrat Medium" />-->
    </Grid>
</Window>
